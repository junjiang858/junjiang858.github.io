---
title: 模块化标准之CMJ
description: >-
  CommonJS模块化标准如何进行导入导出及它的实现原理。
date: 2025-05-24 15:40:00 +0800
categories: [工程化, 模块化标准之CMJ]
tags: [模块化标准之CMJ]
pin: false
---

# CommonJS

> 标准类型：社区规范
>
> 支持环境：node
>
> 依赖类型：动态依赖

## 如何导出

```js
module.exports = 导出的值
```

## 如何导入

```js
require("模块路径") // 函数返回模块导出的值
```
# CommonJS如何实现模块化

node天生支持CommonJS模块化标准

node规定：

1. node中的每个js文件都是一个CMJ模块，通过node命令运行的模块，叫做入口模块

2. 模块中的所有全局定义的变量、函数，都不会污染到其他模块

3. 模块可以暴露（导出）一些内容给其他模块使用，需要暴露什么内容，就在模块中给`module.exports`赋值

4. 一个模块可以导入其他模块，使用函数`require("要导入的模块路径")`即可完成，该函数返回目标模块的导出结果

   1. 导入模块时，可以省略`.js`
   2. 导入模块时，必须以`./`或`../`开头

5. 一个模块在被导入时会运行一次，然后它的导出结果会被node缓存起来，后续对该模块导入时，不会重新运行，直接使用缓存结果
